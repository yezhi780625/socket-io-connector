(this["webpackJsonpchat-client"]=this["webpackJsonpchat-client"]||[]).push([[0],{140:function(e,t){},152:function(e,t,n){"use strict";n.r(t);var c,o,r,a=n(0),s=n(31),l=n.n(s),i=n(13),u=n(26),j=n(46),b=n(192),d=n(101),O=n(197),f=n(193),h=n(203),p=n(204),x=n(200),g=n(202),m=n(205),v=n(97),k=n.n(v),w=n(98),C=n.n(w),y=n(199),S=n(194),I=n(198),M=n(201),E=n(95),A=n.n(E),D=n(2),H=Object(j.a)(c||(c=Object(u.a)(["\n  label: message;\n  &:nth-child(odd) {\n    color: black;\n  }\n"]))),N="connected",R="connecting",z="disconnected",B=function(){var e=new Map;return e.set(N,"disconnect"),e.set(R,"cancel"),e.set(z,"connect"),e}(),F=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(z),b=Object(i.a)(l,2),d=b[0],O=b[1],f=Object(a.useState)([]),h=Object(i.a)(f,2),p=h[0],m=h[1],v=Object(a.useCallback)((function(e){m((function(t){return t.concat(e)}))}),[]),k=Object(a.useCallback)((function(){m([])}),[]),w=Object(a.useCallback)((function(e){s(t.current.value)}),[]),C=Object(a.useCallback)((function(e){s("")}),[]),E=Object(a.useCallback)((function(){s(""),O(z)}),[]),F=Object(a.useMemo)((function(){var e=new Map;return e.set(N,C),e.set(R,E),e.set(z,w),e}),[E,w,C]);return Object(a.useEffect)((function(){if(r)try{return O(R),e.current=A()(r,{reconnectionDelayMax:1e4}),e.current.on("connect",(function(){console.log(e.current.connected),v("Connect to ".concat(r," successfully.")),O(N)})),e.current.on("predictanomalydata",(function(){var e;(e=console).log.apply(e,arguments),v(arguments.length<=0?void 0:arguments[0])})),e.current.on("disconnect",(function(t){"io client disconnect"===t&&(v("Disconnect to ".concat(r," successfully.")),O(z)),console.log(t),"io server disconnect"===t&&(v("reconnecting to server."),e.current.connect())})),function(){e.current.disconnect()}}catch(t){console.error(t)}}),[r,v]),console.log(e.current),Object(D.jsx)(y.a,{maxWidth:"md",children:Object(D.jsxs)(x.a,{display:"flex",flexDirection:"column",gap:2,pt:2,pb:2,children:[Object(D.jsxs)(x.a,{display:"flex",gap:1,alignItems:"center",children:[Object(D.jsx)(S.a,{className:Object(j.a)(o||(o=Object(u.a)(["\n              flex: 1;\n            "]))),label:"address",placeholder:"Socket.IO server address(includes protocol)",variant:"filled",size:"small",inputRef:t,disabled:d===R}),Object(D.jsx)(I.a,{onClick:F.get(d),children:B.get(d)})]}),Object(D.jsx)(x.a,{children:Object(D.jsx)(I.a,{onClick:k,children:"Clear Messages"})}),Object(D.jsx)(x.a,{height:"100%",width:"100%",children:Object(D.jsx)(M.a,{sx:{padding:"8px 16px",background:"#939597",height:"100%",minHeight:"200px",maxHeight:"400px",overflow:"auto"},children:p.map((function(e,t){return Object(D.jsx)(g.a,{className:H,children:e},"".concat(t,": ").concat(e))}))})})]})})},J=Object(a.memo)(F),P="dark",T="light";Object(j.b)(r||(r=Object(u.a)(["\nhtml, body, #root {\n  width:100vw;\n  height:100vh;\n  position:relative\n}\n"])));var U,W=function(){var e=Object(b.a)("(prefers-color-scheme: dark)"),t=Object(a.useState)((function(){return e?P:T})),n=Object(i.a)(t,2),c=n[0],o=n[1],r=Object(a.useCallback)((function(){o((function(e){return e===P?T:P}))}),[]),s=Object(a.useMemo)((function(){return Object(d.a)({palette:{mode:c,primary:{main:"#3d91c2"}}})}),[c]),l=Object(b.a)("(min-width: 600px)");return Object(D.jsxs)(O.a,{theme:s,children:[Object(D.jsx)(f.a,{}),Object(D.jsx)(h.a,{children:Object(D.jsxs)(p.a,{children:[Object(D.jsx)(x.a,{flex:1,children:Object(D.jsx)(g.a,{variant:l?"h4":"h6",children:"Socket.IO Connector"})}),Object(D.jsx)(m.a,{onClick:r,sx:{color:s.palette.primary.contrastText},children:c===P?Object(D.jsx)(k.a,{}):Object(D.jsx)(C.a,{})})]})}),Object(D.jsx)(x.a,{pt:l?8:6,children:Object(D.jsx)(J,{})})]})},G=Object(a.memo)(W),K=n(58),L=n(196),_=n(100),q=n(99),Q=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),r=Object(i.a)(o,2),s=r[0],l=r[1],u=Object(a.useState)(!1),j=Object(i.a)(u,2),b=j[0],d=j[1],O=Object(a.useRef)(null),f=Object(a.useCallback)((function(){var e,t,n;d(!1),null===(e=O.current)||void 0===e||null===(t=e.prompt)||void 0===t||t.call(e),null===(n=O.current)||void 0===n||n.userChoice.then((function(e){"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),O.current=null}))}),[]);return Object(a.useEffect)((function(){window.addEventListener("beforeinstallprompt",(function(e){console.log("Before Install Prompt"),e.preventDefault(),O.current=e,d(!0)})),Object(_.a)("".concat("","service-worker.js"),{ready:function(){return console.log("ready")},updatefound:function(){return console.log("updatefound")},cached:function(){return console.log("cached")},registered:function(){return console.log("registered")},updated:function(e){c((function(){return function(){l(!0),e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),e.update().then((function(){return window.location.reload()}))}}))},offline:function(){},error:function(e){console.error("Error during service worker registration:",Object(q.inspect)(e))}})}),[]),console.log(b),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(L.a,{open:null!==n,anchorOrigin:{vertical:"bottom",horizontal:"right"},message:"New content is available; please refresh.",action:Object(D.jsx)(I.a,Object(K.a)(Object(K.a)({},n?{onClick:n}:null),{},{disabled:s,children:"refresh"}))}),Object(D.jsx)(L.a,{open:b,message:"Add to home screen.",action:Object(D.jsx)(I.a,{onClick:f,children:"Install"})})]})},V=(U=G,function(e){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Q,{}),Object(D.jsx)(U,Object(K.a)({},e))]})});l.a.render(Object(D.jsx)(V,{}),document.getElementById("root"))}},[[152,1,2]]]);
//# sourceMappingURL=main.328f6c81.chunk.js.map